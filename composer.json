{
	"name": "systemsdk/docker-nginx-php-symfony",
	"type": "project",
	"description": "Docker symfony environment",
	"keywords": [
		"Docker",
		"Nginx",
		"Php",
		"Symfony",
		"Supervisord",
		"MySQL",
		"RabbitMQ"
	],
	"homepage": "https://github.com/systemsdk/docker-nginx-php-symfony",
	"license": "MIT",
	"authors": [
		{
			"name": "Dmitriy Kravtsov",
			"email": "dmytro.kravtsov@systemsdk.com",
			"homepage": "https://github.com/systemsdk",
			"role": "Developer"
		}
	],
	"require": {
		"php": "^8.3.0",
		"ext-amqp": "*",
		"ext-ctype": "*",
		"ext-curl": "*",
		"ext-exif": "*",
		"ext-fileinfo": "*",
		"ext-gd": "*",
		"ext-hash": "*",
		"ext-iconv": "*",
		"ext-json": "*",
		"ext-mbstring": "*",
		"ext-openssl": "*",
		"ext-pdo": "*",
		"ext-pdo_mysql": "*",
		"ext-pdo_sqlite": "*",
		"api-platform/core": "^4.0",
		"chillerlan/php-qrcode": "*",
		"creof/doctrine2-spatial": "*",
		"doctrine/annotations": "^2.0",
		"doctrine/dbal": "^3.9",
		"doctrine/doctrine-bundle": "^2.13",
		"doctrine/doctrine-migrations-bundle": "^3.3",
		"doctrine/orm": "^2.19",
		"dukecity/command-scheduler-bundle": "^6.0",
		"easycorp/easyadmin-bundle": "*",
		"elasticsearch/elasticsearch": "^8.16",
		"endroid/qr-code": "*",
		"endroid/qr-code-bundle": "^6.0",
		"gedmo/doctrine-extensions": "^3.17",
		"gesdinet/jwt-refresh-token-bundle": "*",
		"gregwar/image": "*",
		"jms/serializer-bundle": "*",
		"knplabs/knp-paginator-bundle": "*",
		"league/commonmark": "^2.5",
		"lexik/jwt-authentication-bundle": "*",
		"nelmio/api-doc-bundle": "^4.33",
		"nelmio/cors-bundle": "^2.5",
		"opis/json-schema": "*",
		"phpdocumentor/reflection-docblock": "^5.4",
		"ramsey/uuid-doctrine": "^2.1",
		"scheb/2fa-bundle": "*",
		"scheb/2fa-google-authenticator": "*",
		"symfony/amqp-messenger": "7.1.*",
		"symfony/apache-pack": "^1.0",
		"symfony/asset": "7.1.*",
		"symfony/asset-mapper": "7.1.*",
		"symfony/config": "7.1.*",
		"symfony/console": "7.1.*",
		"symfony/dependency-injection": "7.1.*",
		"symfony/deprecation-contracts": "*",
		"symfony/doctrine-bridge": "7.1.*",
		"symfony/doctrine-messenger": "7.1.*",
		"symfony/dotenv": "7.1.*",
		"symfony/error-handler": "7.1.*",
		"symfony/expression-language": "7.1.*",
		"symfony/flex": "^2.4",
		"symfony/form": "7.1.*",
		"symfony/framework-bundle": "7.1.*",
		"symfony/google-mailer": "*",
		"symfony/html-sanitizer": "7.1.*",
		"symfony/http-client": "7.1.*",
		"symfony/http-foundation": "7.1.*",
		"symfony/http-kernel": "7.1.*",
		"symfony/intl": "7.1.*",
		"symfony/mailer": "7.1.*",
		"symfony/messenger": "7.1.*",
		"symfony/mime": "7.1.*",
		"symfony/monolog-bundle": "^3.10",
		"symfony/notifier": "7.1.*",
		"symfony/polyfill-intl-messageformatter": "*",
		"symfony/process": "7.1.*",
		"symfony/property-access": "7.1.*",
		"symfony/property-info": "7.1.*",
		"symfony/proxy-manager-bridge": "6.4.*",
		"symfony/rate-limiter": "7.1.*",
		"symfony/routing": "7.1.*",
		"symfony/runtime": "7.1.*",
		"symfony/security-bundle": "7.1.*",
		"symfony/security-csrf": "7.1.*",
		"symfony/serializer": "7.1.*",
		"symfony/string": "7.1.*",
		"symfony/translation": "7.1.*",
		"symfony/twig-bundle": "7.1.*",
		"symfony/ux-icons": "*",
		"symfony/ux-live-component": "*",
		"symfony/validator": "7.1.*",
		"symfony/web-link": "7.1.*",
		"symfony/webpack-encore-bundle": "^2.2",
		"symfony/yaml": "7.1.*",
		"symfonycasts/sass-bundle": "*",
		"symfonycasts/verify-email-bundle": "*",
		"twbs/bootstrap": "^5.3",
		"twig/extra-bundle": "^2.12|^3.0",
		"twig/intl-extra": "*",
		"twig/markdown-extra": "*",
		"twig/string-extra": "*",
		"voku/portable-ascii": "*"
	},
	"conflict": {
		"symfony/debug": "<3.3",
		"symfony/symfony": "*",
		"symfony/twig-bundle": "<3.3"
	},
	"require-dev": {
		"bamarni/composer-bin-plugin": "^1.8",
		"dama/doctrine-test-bundle": "*",
		"doctrine/doctrine-fixtures-bundle": "^3.6",
		"roave/security-advisories": "dev-latest",
		"symfony/browser-kit": "7.1.*",
		"symfony/debug-bundle": "7.1.*",
		"symfony/maker-bundle": "^1.60",
		"symfony/requirements-checker": "^2.0",
		"symfony/stopwatch": "7.1.*",
		"symfony/var-dumper": "7.1.*",
		"symfony/web-profiler-bundle": "7.1.*",
		"systemsdk/easy-log-bundle": "2.0.*",
		"phpstan/extension-installer": "^1.2",
		"phpstan/phpstan": "^1.2",
		"phpstan/phpstan-doctrine": "^1.3",
		"phpstan/phpstan-symfony": "^1.2",
		"symfony/css-selector": "^7",
		"symfony/phpunit-bridge": "^7"
	},
	"replace": {
		"symfony/polyfill-ctype": "*",
		"symfony/polyfill-mbstring": "*",
		"symfony/polyfill-php72": "*",
		"symfony/polyfill-php80": "*",
		"symfony/polyfill-php81": "*"
	},
	"config": {
		"allow-plugins": true,
		"platform": {
			"php": "8.3.0"
		},
		"preferred-install": {
			"*": "dist"
		},
		"sort-packages": true
	},
	"extra": {
		"allow-contrib": "true",
		"bamarni-bin": {
			"bin-links": true,
			"forward-command": true,
			"target-directory": "tools"
		},
		"symfony": {
			"allow-contrib": true,
			"require": "7.1.*"
		}
	},
	"autoload": {
		"psr-4": {
			"App\\": "src/"
		},
		"classmap": [],
		"exclude-from-classmap": []
	},
	"autoload-dev": {
		"psr-4": {
			"App\\Tests\\": "tests/",
			"PHPUnit\\": "tools/01_phpunit/vendor/phpunit/phpunit/src",
			"Symfony\\Bridge\\PhpUnit\\": "tools/01_phpunit/vendor/symfony/phpunit-bridge",
			"PHPMD\\": "tools/06_phpmd/vendor/phpmd/phpmd/src/bin",
			"PhpCsFixer\\": "tools/03_ecs/vendor/symplify/easy-coding-standard/vendor/friendsofphp/php-cs-fixer/src",
			"PHP_CodeSniffer\\": "tools/03_ecs/vendor/symplify/easy-coding-standard/vendor/squizlabs/php_codesniffer/src",
			"Symplify\\CodingStandard\\": "tools/03_ecs/vendor/symplify/easy-coding-standard/vendor/symplify/coding-standard/src",
			"Symplify\\EasyCodingStandard\\": "tools/03_ecs/vendor/symplify/easy-coding-standard/src",
			"ECSPrefix20210928\\Symplify\\RuleDocGenerator\\": "tools/03_ecs/vendor/symplify/easy-coding-standard/vendor/symplify/rule-doc-generator-contracts/src",
			"PHPStan\\PhpDoc\\PHPUnit\\": "tools/02_phpstan/vendor/phpstan/phpstan-phpunit/src/PhpDoc/PHPUnit",
			"PHPStan\\Rules\\PHPUnit\\": "tools/02_phpstan/vendor/phpstan/phpstan-phpunit/src/Rules/PHPUnit",
			"PHPStan\\Symfony\\": "tools/02_phpstan/vendor/phpstan/phpstan-symfony/src/Symfony",
			"PHPStan\\Type\\PHPUnit\\": "tools/02_phpstan/vendor/phpstan/phpstan-phpunit/src/Type/PHPUnit",
			"PHPStan\\Type\\Symfony\\": "tools/02_phpstan/vendor/phpstan/phpstan-symfony/src/Type/Symfony",
			"Rector\\": "tools/08_rector/vendor/rector"
		}
	},
	"prefer-stable": true,
	"scripts": {
		"prepare": [
			"php bin/console doctrine:database:drop --if-exists --force",
			"php bin/console doctrine:database:create",
			"php bin/console doctrine:schema:update --force --complete",
			"php bin/console doctrine:fixtures:load -n"
		],
		"post-install-cmd": [
			"if test -d vendor/symfony/requirements-checker; then ./vendor/bin/requirements-checker; fi",
			"if test -d vendor/bamarni/composer-bin-plugin; then composer bin all install; fi",
			"if which local-php-security-checker; then local-php-security-checker --update-cache && local-php-security-checker; fi",
			"@auto-scripts",
			"@composer dump-autoload"
		],
		"post-update-cmd": [
			"if test -d vendor/symfony/requirements-checker; then ./vendor/bin/requirements-checker; fi",
			"if test -d vendor/bamarni/composer-bin-plugin; then composer bin all update; fi",
			"if which local-php-security-checker; then local-php-security-checker --update-cache && local-php-security-checker; fi",
			"@auto-scripts",
			"@composer dump-autoload"
		],
		"auto-scripts": {
			"cache:clear": "symfony-cmd",
			"cache:warmup": "symfony-cmd",
			"assets:install --symlink --relative %PUBLIC_DIR%": "symfony-cmd",
			"assets:install %PUBLIC_DIR%": "symfony-cmd",
			"importmap:install": "symfony-cmd",
			"sass:build": "symfony-cmd"
		},
		"ixno:header": "bin/header/ixno",

		"db:initialize:test": "bin/header/dbinit 'bin/console db:reinitialize --format=text --env=test' 'Test-DB Initialization'",
		"db:initialize:main": "for dump in fixtures/db/*.sql; do mysql -h127.0.0.1 -P3306 -uphp-calendar-api -pphp-calendar-api --default-character-set=utf8 opa < \"$dump\"; done",

		"phpmnd:src": "bin/header/phpmnd 'vendor/bin/phpmnd run src --progress --hint --include-numeric-string --ignore-funcs=round,sleep' 'src'",
		"phpmnd:tests": "bin/header/phpmnd 'vendor/bin/phpmnd run tests --progress --hint --include-numeric-string --ignore-funcs=round,sleep' 'tests'",
		"phpmnd:all": "bin/header/phpmnd 'vendor/bin/phpmnd run src tests --progress --hint --include-numeric-string --ignore-funcs=round,sleep' 'all'",
		"phpmnd": [
			"@phpmnd:all"
		],

		"phpunit:api": "bin/header/phpunit 'vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.api.xml' 'API'",
		"phpunit:functional": "bin/header/phpunit 'vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.functional.xml' 'Functional'",
		"phpunit:unit": "bin/header/phpunit 'vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.unit.xml' 'Unit'",
		"phpunit:api:coverage": "bin/header/phpunit 'XDEBUG_MODE=coverage vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.api.xml --coverage-text' 'API'",
		"phpunit:functional:coverage": "bin/header/phpunit 'XDEBUG_MODE=coverage vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.functional.xml --coverage-text' 'Functional'",
		"phpunit:unit:coverage": "bin/header/phpunit 'XDEBUG_MODE=coverage vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.unit.xml --coverage-text' 'Unit'",
		"phpunit:api:debug": "bin/header/phpunit 'PHPUNIT_DEBUG=1 vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.api.xml' 'API'",
		"phpunit:functional:debug": "bin/header/phpunit 'PHPUNIT_DEBUG=1 vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.functional.xml' 'Functional'",
		"phpunit:unit:debug": "bin/header/phpunit 'PHPUNIT_DEBUG=1 vendor/bin/phpunit -d memory_limit=512M --configuration phpunit.unit.xml' 'Unit'",
		"phpunit:all": [
			"@phpunit:unit",
			"@phpunit:functional",
			"@phpunit:api"
		],
		"phpunit:all:coverage": [
			"@phpunit:unit:coverage",
			"@phpunit:functional:coverage",
			"@phpunit:api:coverage"
		],
		"phpunit:all:debug": [
			"@phpunit:unit:debug",
			"@phpunit:functional:debug",
			"@phpunit:api:debug"
		],
		"phpunit": [
			"@phpunit:all"
		],

		"phpstan:run:soft": "bin/header/phpstan 'export XDEBUG_MODE=off && vendor/bin/phpstan analyse --level 5 --memory-limit 512M src tests' 'run'",
		"phpstan:run": "bin/header/phpstan 'export XDEBUG_MODE=off && vendor/bin/phpstan analyse --level max --memory-limit 512M src tests' 'run'",
		"phpstan:run:xdebug": "bin/header/phpstan 'export XDEBUG_MODE=off && vendor/bin/phpstan analyse --level max --memory-limit 512M --xdebug src tests' 'run'",
		"phpstan": [
			"@phpstan:run"
		],

		"phpcs:check:src": "bin/header/phpcs 'vendor/bin/php-cs-fixer --dry-run --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose fix src 2>/dev/null' 'src'",
		"phpcs:check:tests": "bin/header/phpcs 'vendor/bin/php-cs-fixer --dry-run --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose fix tests 2>/dev/null' 'tests'",
		"phpcs:check:all": "bin/header/phpcs 'vendor/bin/php-cs-fixer --dry-run --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose fix src 2>/dev/null && vendor/bin/php-cs-fixer --dry-run --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose fix tests 2>/dev/null' 'all'",
		"phpcs": [
			"@phpcs:check:all"
		],
		"phpcs:fix:src": "bin/header/phpcs 'vendor/bin/php-cs-fixer --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose -v fix src 2>/dev/null' 'src'",
		"phpcs:fix:tests": "bin/header/phpcs 'vendor/bin/php-cs-fixer --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose -v fix tests 2>/dev/null' 'tests'",
		"phpcs:fix:all": "bin/header/phpcs 'vendor/bin/php-cs-fixer --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose -v fix src 2>/dev/null && vendor/bin/php-cs-fixer --using-cache=no --rules=@PSR12 --rules=no_unused_imports --verbose -v fix tests 2>/dev/null' 'all'",

		"rector:check:clear": "bin/header/rector 'vendor/bin/rector process --dry-run --clear-cache --memory-limit=512M' 'check, force'",
		"rector:fix:clear": "bin/header/rector 'vendor/bin/rector process --clear-cache --memory-limit=512M' 'fix, force'",
		"rector:check": "bin/header/rector 'vendor/bin/rector process --dry-run --memory-limit=512M' 'check'",
		"rector:fix": "bin/header/rector 'vendor/bin/rector process --memory-limit=512M' 'fix'",
		"rector": [
			"@rector:check"
		],
		"rector:clear": [
			"@rector:check:clear"
		],

		".test:basic": [
			"@ixno:header",
			"@phpunit",
			"@phpstan"
		],
		"test:basic": [
			"composer .test:basic && bin/header/success || bin/header/error"
		],
		".test:most": [
			"@ixno:header",
			"@phpmnd",
			"@phpunit",
			"@phpstan",
			"@phpcs"
		],
		"test:most": [
			"composer .test:most && bin/header/success || bin/header/error"
		],
		".test:all": [
			"@ixno:header",
			"@phpmnd",
			"@phpunit",
			"@phpstan",
			"@phpcs"
		],
		"test:all": [
			"composer .test:all && bin/header/success || bin/header/error"
		],
		".test:hardcore": [
			"@ixno:header",
			"@phpmnd",
			"@phpunit",
			"@phpstan",
			"@phpcs",
			"@rector:clear"
		],
		"test:hardcore": [
			"composer .test:hardcore && bin/header/success || bin/header/error"
		],
		"test": [
			"@test:all"
		],

		"drop-schema-prod": "bin/console doctrine:schema:drop --force",
		"drop-schema-test": "bin/console doctrine:schema:drop --force --env=test",
		"create-schema-prod": "bin/console doctrine:schema:create",
		"create-schema-test": "bin/console doctrine:schema:create --env=test",
		"load-fixtures-prod": "bin/console doctrine:fixtures:load -n",
		"load-fixtures-test": "bin/console doctrine:fixtures:load -n --env=test --group=test",
		"migrate-prod": "bin/console doctrine:migrations:migrate -n",
		"migrate-test": "bin/console doctrine:migrations:migrate -n --env=test",
		"jwt-generate-keypair": "bin/console lexik:jwt:generate-keypair --skip-if-exists"
	},
	"support": {
		"issues": "https://github.com/systemsdk/docker-nginx-php-symfony/issues"
	}
}
